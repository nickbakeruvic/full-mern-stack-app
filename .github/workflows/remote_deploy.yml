name: Remote deploy
run-name: ${{ github.actor }} is pushing updates to the remote server.
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: Compile & minify scripts
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ secrets.DROPLET_IP }}
          username: ${{ secrets.DROPLET_USERNAME }}
          password: ${{ secrets.DROPLET_PASSWORD }}
          script: |
            cd full-mern-stack-app/server
            git pull
            ./deploy.sh
      
      - run: echo "Job completed - ${{ job.status }}."
